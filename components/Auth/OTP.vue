<script setup lang="ts">
	const supabase = useSupabaseClient();
	const email = ref("");

	const signInWithOtp = async () => {
		const { error } = await supabase.auth.signInWithOtp({
			email: email.value,
			options: {
				emailRedirectTo: "http://localhost:3000/confirm"
			}
		});
	};
</script>
<template>
	<div>
		<button @click="signInWithOtp">Sign In with magic link</button>
		<input
			v-model="email"
			type="email"
		/>
	</div>
</template>
